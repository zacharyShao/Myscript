<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>/home/padewitte/projets/webcomponents/myscript-js/src/recognition/abstractRecognizer.js</title>
    <link rel="stylesheet" href="http://yui.yahooapis.com/3.9.1/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="shortcut icon" type="image/png" href="../assets/favicon.png">
    <script src="http://yui.yahooapis.com/combo?3.9.1/build/yui/yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
            
                <h1><img src="../assets/css/logo.png" title=""></h1>
            
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: </em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
    <h2 class="off-left">APIs</h2>
    <div id="api-tabview" class="tabview">
        <ul class="tabs">
            <li><a href="#api-classes">Classes</a></li>
            <li><a href="#api-modules">Modules</a></li>
        </ul>

        <div id="api-tabview-filter">
            <input type="search" id="api-filter" placeholder="Type to filter APIs">
        </div>

        <div id="api-tabview-panel">
            <ul id="api-classes" class="apis classes">
            
                <li><a href="../classes/AbstractComponent.html">AbstractComponent</a></li>
            
                <li><a href="../classes/AbstractContinueRequestWSMessage.html">AbstractContinueRequestWSMessage</a></li>
            
                <li><a href="../classes/AbstractMusicInputComponent.html">AbstractMusicInputComponent</a></li>
            
                <li><a href="../classes/AbstractParameter.html">AbstractParameter</a></li>
            
                <li><a href="../classes/AbstractRecognitionData.html">AbstractRecognitionData</a></li>
            
                <li><a href="../classes/AbstractRecognitionInput.html">AbstractRecognitionInput</a></li>
            
                <li><a href="../classes/AbstractRecognizer.html">AbstractRecognizer</a></li>
            
                <li><a href="../classes/AbstractRecoResponseWSMessage.html">AbstractRecoResponseWSMessage</a></li>
            
                <li><a href="../classes/AbstractRenderer.html">AbstractRenderer</a></li>
            
                <li><a href="../classes/AbstractResult.html">AbstractResult</a></li>
            
                <li><a href="../classes/AbstractShapePrimitive.html">AbstractShapePrimitive</a></li>
            
                <li><a href="../classes/AbstractStartRequestWSMessage.html">AbstractStartRequestWSMessage</a></li>
            
                <li><a href="../classes/AbstractTextInputComponent.html">AbstractTextInputComponent</a></li>
            
                <li><a href="../classes/AbstractWSMessage.html">AbstractWSMessage</a></li>
            
                <li><a href="../classes/AbstractWSRecognizer.html">AbstractWSRecognizer</a></li>
            
                <li><a href="../classes/AnalyzerCell.html">AnalyzerCell</a></li>
            
                <li><a href="../classes/AnalyzerCellData.html">AnalyzerCellData</a></li>
            
                <li><a href="../classes/AnalyzerDocument.html">AnalyzerDocument</a></li>
            
                <li><a href="../classes/AnalyzerElement.html">AnalyzerElement</a></li>
            
                <li><a href="../classes/AnalyzerElementReference.html">AnalyzerElementReference</a></li>
            
                <li><a href="../classes/AnalyzerGroup.html">AnalyzerGroup</a></li>
            
                <li><a href="../classes/AnalyzerInkRange.html">AnalyzerInkRange</a></li>
            
                <li><a href="../classes/AnalyzerLine.html">AnalyzerLine</a></li>
            
                <li><a href="../classes/AnalyzerLineData.html">AnalyzerLineData</a></li>
            
                <li><a href="../classes/AnalyzerParameter.html">AnalyzerParameter</a></li>
            
                <li><a href="../classes/AnalyzerRecognitionData.html">AnalyzerRecognitionData</a></li>
            
                <li><a href="../classes/AnalyzerRecognitionInput.html">AnalyzerRecognitionInput</a></li>
            
                <li><a href="../classes/AnalyzerRecognizedStroke.html">AnalyzerRecognizedStroke</a></li>
            
                <li><a href="../classes/AnalyzerRecognizer.html">AnalyzerRecognizer</a></li>
            
                <li><a href="../classes/AnalyzerRenderer.html">AnalyzerRenderer</a></li>
            
                <li><a href="../classes/AnalyzerResult.html">AnalyzerResult</a></li>
            
                <li><a href="../classes/AnalyzerStrokeType.html">AnalyzerStrokeType</a></li>
            
                <li><a href="../classes/AnalyzerTable.html">AnalyzerTable</a></li>
            
                <li><a href="../classes/AnalyzerTableData.html">AnalyzerTableData</a></li>
            
                <li><a href="../classes/AnalyzerTextLine.html">AnalyzerTextLine</a></li>
            
                <li><a href="../classes/AnalyzerTextLineData.html">AnalyzerTextLineData</a></li>
            
                <li><a href="../classes/AnalyzerUnderline.html">AnalyzerUnderline</a></li>
            
                <li><a href="../classes/AnalyzerUnderlineData.html">AnalyzerUnderlineData</a></li>
            
                <li><a href="../classes/ChallengeRequestWSMessage.html">ChallengeRequestWSMessage</a></li>
            
                <li><a href="../classes/ChallengeResponseWSMessage.html">ChallengeResponseWSMessage</a></li>
            
                <li><a href="../classes/CharacterInputComponent.html">CharacterInputComponent</a></li>
            
                <li><a href="../classes/CharacterInputComponentAlternate.html">CharacterInputComponentAlternate</a></li>
            
                <li><a href="../classes/CharInputComponent.html">CharInputComponent</a></li>
            
                <li><a href="../classes/ErrorResponseWSMessage.html">ErrorResponseWSMessage</a></li>
            
                <li><a href="../classes/ImageRenderer.html">ImageRenderer</a></li>
            
                <li><a href="../classes/InitRequestWSMessage.html">InitRequestWSMessage</a></li>
            
                <li><a href="../classes/InitResponseWSMessage.html">InitResponseWSMessage</a></li>
            
                <li><a href="../classes/InkGrabber.html">InkGrabber</a></li>
            
                <li><a href="../classes/InkPaper.html">InkPaper</a></li>
            
                <li><a href="../classes/MathBorderData.html">MathBorderData</a></li>
            
                <li><a href="../classes/MathBorderNonTerminalNode.html">MathBorderNonTerminalNode</a></li>
            
                <li><a href="../classes/MathCellData.html">MathCellData</a></li>
            
                <li><a href="../classes/MathCellNonTerminalNode.html">MathCellNonTerminalNode</a></li>
            
                <li><a href="../classes/MathContinueRequestWSMessage.html">MathContinueRequestWSMessage</a></li>
            
                <li><a href="../classes/MathDocument.html">MathDocument</a></li>
            
                <li><a href="../classes/MathInkRange.html">MathInkRange</a></li>
            
                <li><a href="../classes/MathLaTexResultElement.html">MathLaTexResultElement</a></li>
            
                <li><a href="../classes/MathMathMLResultElement.html">MathMathMLResultElement</a></li>
            
                <li><a href="../classes/MathNode.html">MathNode</a></li>
            
                <li><a href="../classes/MathNonTerminalNode.html">MathNonTerminalNode</a></li>
            
                <li><a href="../classes/MathOfficeOpenXmlMathResultElement.html">MathOfficeOpenXmlMathResultElement</a></li>
            
                <li><a href="../classes/MathParameter.html">MathParameter</a></li>
            
                <li><a href="../classes/MathRecognitionData.html">MathRecognitionData</a></li>
            
                <li><a href="../classes/MathRecognitionInput.html">MathRecognitionInput</a></li>
            
                <li><a href="../classes/MathRecognizer.html">MathRecognizer</a></li>
            
                <li><a href="../classes/MathRenderer.html">MathRenderer</a></li>
            
                <li><a href="../classes/MathResponseWSMessage.html">MathResponseWSMessage</a></li>
            
                <li><a href="../classes/MathResult.html">MathResult</a></li>
            
                <li><a href="../classes/MathResultElement.html">MathResultElement</a></li>
            
                <li><a href="../classes/MathRuleNode.html">MathRuleNode</a></li>
            
                <li><a href="../classes/MathScratchOut.html">MathScratchOut</a></li>
            
                <li><a href="../classes/MathStartRequestWSMessage.html">MathStartRequestWSMessage</a></li>
            
                <li><a href="../classes/MathSymbolTreeResultElement.html">MathSymbolTreeResultElement</a></li>
            
                <li><a href="../classes/MathTableData.html">MathTableData</a></li>
            
                <li><a href="../classes/MathTableRuleNode.html">MathTableRuleNode</a></li>
            
                <li><a href="../classes/MathTerminalNode.html">MathTerminalNode</a></li>
            
                <li><a href="../classes/MathTerminalNodeCandidate.html">MathTerminalNodeCandidate</a></li>
            
                <li><a href="../classes/MathUtil.html">MathUtil</a></li>
            
                <li><a href="../classes/MathWSRecognizer.html">MathWSRecognizer</a></li>
            
                <li><a href="../classes/MusicAccidental.html">MusicAccidental</a></li>
            
                <li><a href="../classes/MusicAccidentalInputComponent.html">MusicAccidentalInputComponent</a></li>
            
                <li><a href="../classes/MusicAnnotation.html">MusicAnnotation</a></li>
            
                <li><a href="../classes/MusicArpeggiate.html">MusicArpeggiate</a></li>
            
                <li><a href="../classes/MusicArpeggiateInputComponent.html">MusicArpeggiateInputComponent</a></li>
            
                <li><a href="../classes/MusicBar.html">MusicBar</a></li>
            
                <li><a href="../classes/MusicBarInputComponent.html">MusicBarInputComponent</a></li>
            
                <li><a href="../classes/MusicBeam.html">MusicBeam</a></li>
            
                <li><a href="../classes/MusicBeamInputComponent.html">MusicBeamInputComponent</a></li>
            
                <li><a href="../classes/MusicChord.html">MusicChord</a></li>
            
                <li><a href="../classes/MusicClef.html">MusicClef</a></li>
            
                <li><a href="../classes/MusicClefInputComponent.html">MusicClefInputComponent</a></li>
            
                <li><a href="../classes/MusicDecoration.html">MusicDecoration</a></li>
            
                <li><a href="../classes/MusicDecorationInputComponent.html">MusicDecorationInputComponent</a></li>
            
                <li><a href="../classes/MusicDocument.html">MusicDocument</a></li>
            
                <li><a href="../classes/MusicDots.html">MusicDots</a></li>
            
                <li><a href="../classes/MusicDotsInputComponent.html">MusicDotsInputComponent</a></li>
            
                <li><a href="../classes/MusicElement.html">MusicElement</a></li>
            
                <li><a href="../classes/MusicHead.html">MusicHead</a></li>
            
                <li><a href="../classes/MusicHeadInputComponent.html">MusicHeadInputComponent</a></li>
            
                <li><a href="../classes/MusicInputRange.html">MusicInputRange</a></li>
            
                <li><a href="../classes/MusicKeySignature.html">MusicKeySignature</a></li>
            
                <li><a href="../classes/MusicKeySignatureData.html">MusicKeySignatureData</a></li>
            
                <li><a href="../classes/MusicLedgerLine.html">MusicLedgerLine</a></li>
            
                <li><a href="../classes/MusicLedgerLineInputComponent.html">MusicLedgerLineInputComponent</a></li>
            
                <li><a href="../classes/MusicNote.html">MusicNote</a></li>
            
                <li><a href="../classes/MusicParameter.html">MusicParameter</a></li>
            
                <li><a href="../classes/MusicPart.html">MusicPart</a></li>
            
                <li><a href="../classes/MusicPitchData.html">MusicPitchData</a></li>
            
                <li><a href="../classes/MusicRecognitionData.html">MusicRecognitionData</a></li>
            
                <li><a href="../classes/MusicRecognitionInput.html">MusicRecognitionInput</a></li>
            
                <li><a href="../classes/MusicRecognizer.html">MusicRecognizer</a></li>
            
                <li><a href="../classes/MusicRenderer.html">MusicRenderer</a></li>
            
                <li><a href="../classes/MusicRest.html">MusicRest</a></li>
            
                <li><a href="../classes/MusicRestInputComponent.html">MusicRestInputComponent</a></li>
            
                <li><a href="../classes/MusicResult.html">MusicResult</a></li>
            
                <li><a href="../classes/MusicResultElement.html">MusicResultElement</a></li>
            
                <li><a href="../classes/MusicScore.html">MusicScore</a></li>
            
                <li><a href="../classes/MusicScoreTreeResultElement.html">MusicScoreTreeResultElement</a></li>
            
                <li><a href="../classes/MusicScratchOut.html">MusicScratchOut</a></li>
            
                <li><a href="../classes/MusicSlur.html">MusicSlur</a></li>
            
                <li><a href="../classes/MusicStaff.html">MusicStaff</a></li>
            
                <li><a href="../classes/MusicStem.html">MusicStem</a></li>
            
                <li><a href="../classes/MusicStemInputComponent.html">MusicStemInputComponent</a></li>
            
                <li><a href="../classes/MusicTie.html">MusicTie</a></li>
            
                <li><a href="../classes/MusicTieOrSlurInputComponent.html">MusicTieOrSlurInputComponent</a></li>
            
                <li><a href="../classes/MusicTimeModificationData.html">MusicTimeModificationData</a></li>
            
                <li><a href="../classes/MusicTimeSignature.html">MusicTimeSignature</a></li>
            
                <li><a href="../classes/MusicTimeSignatureInputComponent.html">MusicTimeSignatureInputComponent</a></li>
            
                <li><a href="../classes/MusicTuplet.html">MusicTuplet</a></li>
            
                <li><a href="../classes/MusicTupletBracket.html">MusicTupletBracket</a></li>
            
                <li><a href="../classes/MusicXMLResultElement.html">MusicXMLResultElement</a></li>
            
                <li><a href="../classes/NetworkInterface.html">NetworkInterface</a></li>
            
                <li><a href="../classes/NetworkWSInterface.html">NetworkWSInterface</a></li>
            
                <li><a href="../classes/PenParameters.html">PenParameters</a></li>
            
                <li><a href="../classes/Point.html">Point</a></li>
            
                <li><a href="../classes/RecognitionLanguagesData.html">RecognitionLanguagesData</a></li>
            
                <li><a href="../classes/Rectangle.html">Rectangle</a></li>
            
                <li><a href="../classes/ResetRequestWSMessage.html">ResetRequestWSMessage</a></li>
            
                <li><a href="../classes/ResetResponseWSMessage.html">ResetResponseWSMessage</a></li>
            
                <li><a href="../classes/ShapeCandidate.html">ShapeCandidate</a></li>
            
                <li><a href="../classes/ShapeDocument.html">ShapeDocument</a></li>
            
                <li><a href="../classes/ShapeEllipse.html">ShapeEllipse</a></li>
            
                <li><a href="../classes/ShapeErased.html">ShapeErased</a></li>
            
                <li><a href="../classes/ShapeInkRange.html">ShapeInkRange</a></li>
            
                <li><a href="../classes/ShapeLine.html">ShapeLine</a></li>
            
                <li><a href="../classes/ShapeNotRecognized.html">ShapeNotRecognized</a></li>
            
                <li><a href="../classes/ShapeParameter.html">ShapeParameter</a></li>
            
                <li><a href="../classes/ShapeRecognitionData.html">ShapeRecognitionData</a></li>
            
                <li><a href="../classes/ShapeRecognitionInput.html">ShapeRecognitionInput</a></li>
            
                <li><a href="../classes/ShapeRecognized.html">ShapeRecognized</a></li>
            
                <li><a href="../classes/ShapeRecognizer.html">ShapeRecognizer</a></li>
            
                <li><a href="../classes/ShapeRenderer.html">ShapeRenderer</a></li>
            
                <li><a href="../classes/ShapeResult.html">ShapeResult</a></li>
            
                <li><a href="../classes/ShapeScratchOut.html">ShapeScratchOut</a></li>
            
                <li><a href="../classes/ShapeSegment.html">ShapeSegment</a></li>
            
                <li><a href="../classes/StringInputComponent.html">StringInputComponent</a></li>
            
                <li><a href="../classes/StrokeComponent.html">StrokeComponent</a></li>
            
                <li><a href="../classes/TextCandidate.html">TextCandidate</a></li>
            
                <li><a href="../classes/TextContinueRequestWSMessage.html">TextContinueRequestWSMessage</a></li>
            
                <li><a href="../classes/TextDocument.html">TextDocument</a></li>
            
                <li><a href="../classes/TextInkRange.html">TextInkRange</a></li>
            
                <li><a href="../classes/TextInputUnit.html">TextInputUnit</a></li>
            
                <li><a href="../classes/TextParameter.html">TextParameter</a></li>
            
                <li><a href="../classes/TextProperties.html">TextProperties</a></li>
            
                <li><a href="../classes/TextRecognitionData.html">TextRecognitionData</a></li>
            
                <li><a href="../classes/TextRecognitionInput.html">TextRecognitionInput</a></li>
            
                <li><a href="../classes/TextRecognizer.html">TextRecognizer</a></li>
            
                <li><a href="../classes/TextRenderer.html">TextRenderer</a></li>
            
                <li><a href="../classes/TextResponseWSMessage.html">TextResponseWSMessage</a></li>
            
                <li><a href="../classes/TextResult.html">TextResult</a></li>
            
                <li><a href="../classes/TextSegment.html">TextSegment</a></li>
            
                <li><a href="../classes/TextStartRequestWSMessage.html">TextStartRequestWSMessage</a></li>
            
                <li><a href="../classes/TextTagItem.html">TextTagItem</a></li>
            
                <li><a href="../classes/TextWSRecognizer.html">TextWSRecognizer</a></li>
            
            </ul>

            <ul id="api-modules" class="apis modules">
            
                <li><a href="../modules/MyScript.html">MyScript</a></li>
            
            </ul>
        </div>
    </div>
</div>

            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
        Show:
        <label for="api-show-inherited">
            <input type="checkbox" id="api-show-inherited" checked>
            Inherited
        </label>

        <label for="api-show-protected">
            <input type="checkbox" id="api-show-protected">
            Protected
        </label>

        <label for="api-show-private">
            <input type="checkbox" id="api-show-private">
            Private
        </label>
        <label for="api-show-deprecated">
            <input type="checkbox" id="api-show-deprecated">
            Deprecated
        </label>

    </div>


            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <h1 class="file-heading">File: /home/padewitte/projets/webcomponents/myscript-js/src/recognition/abstractRecognizer.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
&#x27;use strict&#x27;;

(function (scope, CryptoJS) {
    /**
     * Abstract recognizer interface
     *
     * @class AbstractRecognizer
     * @param {String} [host=&#x27;cloud.myscript.com&#x27;] Recognition service host
     * @constructor
     */
    function AbstractRecognizer(host) {
        this.setUrl(this.getProtocol() + &#x27;cloud.myscript.com&#x27;);
        if (host) {
            this.setUrl(this.getProtocol() + host);
        }
        this.setSSL(true);
    }

    AbstractRecognizer.prototype.getProtocol = function() {
        return this._ssl? &#x27;https://&#x27;: &#x27;http://&#x27;;
    };

    AbstractRecognizer.prototype.getSSL = function() {
        return this._ssl;
    };

    AbstractRecognizer.prototype.setSSL = function (ssl) {
        if (ssl !== undefined) {
            this._ssl = ssl;
            this.setUrl(this.getProtocol() + this.getHost());
        }
    };

    /**
     * Get the recognition service host
     *
     * @method getHost
     * @returns {string|String|*}
     */
    AbstractRecognizer.prototype.getHost = function() {
        return scope.NetworkInterface.parseURL(this.getUrl()).host;
    };

    /**
     * Set the recognition service host
     *
     * @method setHost
     * @param {String}
     */
    AbstractRecognizer.prototype.setHost = function (host) {
        if (host !== undefined) {
            this.setUrl(this.getProtocol() + host);
        }
    };

    /**
     * Get the recognition service host
     *
     * @method getUrl
     * @returns {String}
     */
    AbstractRecognizer.prototype.getUrl = function() {
        return this.url;
    };

    /**
     * Set the recognition service url
     *
     * @method setUrl
     * @param {String}
     */
    AbstractRecognizer.prototype.setUrl = function (url) {
        if (url !== undefined) {
            this.url = url;
        }
    };

    /**
     * Get parameters
     *
     * @method getParameters
     * @returns {AbstractParameter}
     */
    AbstractRecognizer.prototype.getParameters = function () {
        return this.parameters;
    };

    /**
     * Set parameters
     *
     * @method setParameters
     * @param {AbstractParameter} parameters
     */
    AbstractRecognizer.prototype.setParameters = function (parameters) {
        this.parameters = parameters;
    };

    /**
     * Get precision
     *
     * @method getPrecision
     * @returns {Number}
     */
    AbstractRecognizer.prototype.getPrecision = function () {
        return this.precision;
    };

    /**
     * Set precision
     *
     * @method setPrecision
     * @param {Number} precision
     */
    AbstractRecognizer.prototype.setPrecision = function (precision) {
        this.precision = precision;
    };

    /**
     * Get the recognition languages available for an application and a specific inputMode
     *
     * @method getAvailableLanguageList
     * @param {String} applicationKey
     * @param {String} inputMode
     * @returns {Promise}
     */
    AbstractRecognizer.prototype.getAvailableLanguageList = function (applicationKey, inputMode) {
        var data = new scope.RecognitionLanguagesData();
        data.setApplicationKey(applicationKey);
        data.setInputMode(inputMode);

        return scope.NetworkInterface.get(this.getUrl() + &#x27;/api/v3.0/recognition/rest/text/languages.json&#x27;, data).then(
            function success(response) {
                return response.result;
            }
        );
    };

    /**
     * Do REST recognition
     *
     * @private
     * @method doRestRecognition
     * @param {AbstractRecognitionInput} input
     * @param {String} applicationKey
     * @param {String} hmacKey
     * @param {String} instanceId
     * @returns {Promise}
     */
    AbstractRecognizer.prototype.doRestRecognition = function (input, applicationKey, hmacKey, instanceId) {
        if (input.getComponents) {
            _filterStrokes(input.getComponents(), this.getPrecision());
        } else if (input.getInputUnits) {
            for (var i in input.getInputUnits()) {
                _filterStrokes(input.getInputUnits()[i].getComponents(), this.getPrecision());
            }
        }

        if (input instanceof scope.TextRecognitionInput) {
            return _doTextRecognition(this.getUrl(), input, applicationKey, hmacKey, instanceId);
        } else if (input instanceof scope.ShapeRecognitionInput) {
            return _doShapeRecognition(this.getUrl(), input, applicationKey, hmacKey, instanceId);
        } else if (input instanceof scope.MathRecognitionInput) {
            return _doMathRecognition(this.getUrl(), input, applicationKey, hmacKey, instanceId);
        } else if (input instanceof scope.MusicRecognitionInput) {
            return _doMusicRecognition(this.getUrl(), input, applicationKey, hmacKey, instanceId);
        } else if (input instanceof scope.AnalyzerRecognitionInput) {
            return _doAnalyzerRecognition(this.getUrl(), input, applicationKey, hmacKey, instanceId);
        } else {
            throw new Error(&#x27;not implemented&#x27;);
        }
    };

    /**
     * Clear REST recognition
     *
     * @method clearRestRecognition
     * @param {String} instanceId
     * @returns {Promise}
     */
    AbstractRecognizer.prototype.clearRestRecognition = function (instanceId) {
        var data = {
            instanceSessionId: instanceId
        };
        return _clearShapeRecognition(this.getUrl(), data);
    };

    /**
     * Do text recognition
     *
     * @private
     * @method _doTextRecognition
     * @param {String} url
     * @param {TextRecognitionInput} input
     * @param {String} applicationKey
     * @param {String} hmacKey
     * @param {String} instanceId
     * @returns {Promise}
     */
    var _doTextRecognition = function (url, input, applicationKey, hmacKey, instanceId) {
        var data = new scope.TextRecognitionData();
        _fillData(data, input, instanceId, applicationKey, hmacKey);

        return scope.NetworkInterface.post(url + &#x27;/api/v3.0/recognition/rest/text/doSimpleRecognition.json&#x27;, data).then(
            function success(response) {
                return new scope.TextResult(response);
            }
        );
    };

    /**
     * Do shape recognition
     *
     * @private
     * @method _doShapeRecognition
     * @param {String} url
     * @param {ShapeRecognitionInput} input
     * @param {String} applicationKey
     * @param {String} hmacKey
     * @param {String} instanceId
     * @returns {Promise}
     */
    var _doShapeRecognition = function (url, input, applicationKey, hmacKey, instanceId) {
        var data = new scope.ShapeRecognitionData();
        _fillData(data, input, instanceId, applicationKey, hmacKey);

        return scope.NetworkInterface.post(url + &#x27;/api/v3.0/recognition/rest/shape/doSimpleRecognition.json&#x27;, data).then(
            function success(response) {
                return new scope.ShapeResult(response);
            }
        );
    };

    /**
     * Clear shape recognition
     *
     * @private
     * @method _clearShapeRecognition
     * @param {String} url
     * @param {String} instanceId
     * @returns {Promise}
     */
    var _clearShapeRecognition = function (url, instanceId) {
        var data = {
            instanceSessionId: instanceId
        };

        return scope.NetworkInterface.post(url + &#x27;/api/v3.0/recognition/rest/shape/clearSessionId.json&#x27;, data).then(
            function success(response) {
                return new scope.ShapeResult(response);
            }
        );
    };

    /**
     * Do shape recognition
     *
     * @private
     * @method _doMathRecognition
     * @param {String} url
     * @param {MathRecognitionInput} input
     * @param {String} applicationKey
     * @param {String} hmacKey
     * @param {String} instanceId
     * @returns {Promise}
     */
    var _doMathRecognition = function (url, input, applicationKey, hmacKey, instanceId) {
        var data = new scope.MathRecognitionData();
        _fillData(data, input, instanceId, applicationKey, hmacKey);

        return scope.NetworkInterface.post(url + &#x27;/api/v3.0/recognition/rest/math/doSimpleRecognition.json&#x27;, data).then(
            function success(response) {
                return new scope.MathResult(response);
            }
        );
    };

    /**
     * Do music recognition
     *
     * @private
     * @method _doMusicRecognition
     * @param {String} url
     * @param {MusicRecognitionInput} input
     * @param {String} applicationKey
     * @param {String} hmacKey
     * @param {String} instanceId
     * @returns {Promise}
     */
    var _doMusicRecognition = function (url, input, applicationKey, hmacKey, instanceId) {
        var data = new scope.MusicRecognitionData();
        _fillData(data, input, instanceId, applicationKey, hmacKey);

        return scope.NetworkInterface.post(url + &#x27;/api/v3.0/recognition/rest/music/doSimpleRecognition.json&#x27;, data).then(
            function success(response) {
                return new scope.MusicResult(response);
            }
        );
    };

    /**
     * Do analyzer recognition
     *
     * @method _doAnalyzerRecognition
     * @param {String} url
     * @param {AnalyzerRecognitionInput} input
     * @param {String} applicationKey
     * @param {String} hmacKey
     * @param {String} instanceId
     * @returns {Promise}
     */
    var _doAnalyzerRecognition = function (url, input, applicationKey, hmacKey, instanceId) {
        var data = new scope.AnalyzerRecognitionData();
        _fillData(data, input, instanceId, applicationKey, hmacKey);

        return scope.NetworkInterface.post(url + &#x27;/api/v3.0/recognition/rest/analyzer/doSimpleRecognition.json&#x27;, data).then(
            function success(response) {
                return new scope.AnalyzerResult(response);
            }
        );
    };

    /**
     * Compute HMAC signature for server authentication
     *
     * @private
     * @method _computeHmac
     * @param {AbstractRecognitionInput} input
     * @param {String} applicationKey
     * @param {String} hmacKey
     */
    var _computeHmac = function (input, applicationKey, hmacKey) {
        var jsonInput = (typeof input === &#x27;object&#x27;) ? JSON.stringify(input) : input;
        return CryptoJS.HmacSHA512(jsonInput, applicationKey + hmacKey).toString(CryptoJS.enc.Hex);
    };

    var _filterStrokes = function (components, precision) {
        components.forEach(function (currentValue) {
            if (currentValue instanceof scope.StrokeComponent) {
                currentValue.toFixed(precision);
            }
        });
    };

    var _fillData = function (data, input, instanceId, applicationKey, hmacKey) {
        data.setRecognitionInput(input);
        data.setApplicationKey(applicationKey);
        data.setInstanceId(instanceId);
        if (hmacKey) {
            data.setHmac(_computeHmac(data.getRecognitionInput(), applicationKey, hmacKey));
        }
    };

    // Export
    scope.AbstractRecognizer = AbstractRecognizer;
})(MyScript, CryptoJS);

    </pre>
</div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>
<script src="../assets/../api.js"></script>
<script src="../assets/js/api-filter.js"></script>
<script src="../assets/js/api-list.js"></script>
<script src="../assets/js/api-search.js"></script>
<script src="../assets/js/apidocs.js"></script>
</body>
</html>
